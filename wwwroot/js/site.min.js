function updatePreview(n){if(parseInt(n.w)>0){api_x=n.x;api_y=n.y;api_w=n.w;api_h=n.h;var t=100/n.w,i=100/n.h;$(document).find("img#preview").css({width:Math.round(t*boundx)+"px",height:Math.round(i*boundy)+"px",marginLeft:"-"+Math.round(t*n.x)+"px",marginTop:"-"+Math.round(i*n.y)+"px"})}}function selected(n){n.w&&($("input#x").val(parseInt(Math.round(api_x))),$("input#y").val(parseInt(Math.round(api_y))),$("input#w").val(parseInt(Math.round(api_w))),$("input#h").val(parseInt(Math.round(api_h))),console.log(x),console.log(y),console.log(w),console.log(h));updatePreview(n)}var escoladevoce={},jcrop_api,boundx,boundy,api_x,api_y,api_w,api_h;escoladevoce.openimagetocrop=function(n){var t=new FileReader,r=$(n),i;t.onload=function(n){var u=document.createElement("img"),t,i,r;u.src=n.target.result;t=$(u);t.attr({id:"target","class":""}).css({"max-width":"100%"});i=document.createElement("img");i.src=n.target.result;r=$(i);r.attr({id:"preview","class":"jcrop-preview"}).css({width:"100px",height:"100px",overflow:"hidden"});$("#myModal .modal-body img#target").replaceWith(t);$("#myModal .modal-body img#preview").replaceWith(r);$("#target").Jcrop({onChange:updatePreview,onSelect:selected,aspectRatio:1,boxWidth:400},function(){var n=this.getBounds();boundx=n[0];boundy=n[1];jcrop_api=this});$("#myModal").modal("show")};i=n.files[0];t.readAsDataURL(i)};